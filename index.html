<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåç Expat Portfolio Tracker</title>
    
    <!-- Google AdSense - Replace with your actual publisher ID -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
            crossorigin="anonymous"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: white;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        /* Google Ad Styles */
        .ad-container {
            background: white;
            border-radius: 12px;
            padding: 1rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #e1e8ed;
            margin-bottom: 2rem;
            text-align: center;
        }

        .ad-label {
            font-size: 0.8rem;
            color: #6c757d;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .banner-ad {
            width: 100%;
            max-width: 728px;
            height: 90px;
            margin: 0 auto;
        }

        .rectangle-ad {
            width: 100%;
            max-width: 336px;
            height: 280px;
            margin: 0 auto;
        }

        .square-ad {
            width: 100%;
            max-width: 250px;
            height: 250px;
            margin: 0 auto;
        }

        .sidebar-ad {
            width: 100%;
            max-width: 160px;
            height: 600px;
            margin: 0 auto;
        }

        /* Dashboard Grid with Ad Spaces */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: auto auto auto auto;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .dashboard-box {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #e1e8ed;
        }

        .box-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f1f3f4;
        }

        .box-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2c3e50;
        }

        /* Market Status Box */
        .market-status {
            grid-column: 1 / -1;
        }

        .markets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .market-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #28a745;
        }

        .market-item.closed {
            border-left-color: #dc3545;
        }

        .market-item.weekend {
            border-left-color: #ffc107;
        }

        .market-name {
            font-weight: 500;
        }

        .market-status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-open {
            background: #d4edda;
            color: #155724;
        }

        .status-closed {
            background: #f8d7da;
            color: #721c24;
        }

        .status-weekend {
            background: #fff3cd;
            color: #856404;
        }

        /* Portfolio Summary */
        .portfolio-summary {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        .summary-item {
            text-align: center;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .summary-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .summary-label {
            font-size: 0.9rem;
            color: #6c757d;
            margin-top: 0.5rem;
        }

        .positive { color: #28a745; }
        .negative { color: #dc3545; }

        /* Chart Container */
        .chart-container {
            height: 300px;
            background: #f8f9fa;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 1rem;
            position: relative;
        }

        .chart-placeholder {
            color: #6c757d;
            font-size: 1.1rem;
        }

        /* Individual Stocks */
        .stocks-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .stock-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #e9ecef;
            transition: background-color 0.2s;
        }

        .stock-item:hover {
            background: #f8f9fa;
        }

        .stock-info {
            flex: 1;
        }

        .stock-symbol {
            font-weight: 600;
            color: #2c3e50;
        }

        .stock-name {
            font-size: 0.9rem;
            color: #6c757d;
        }

        .stock-price {
            text-align: right;
            margin-right: 1rem;
        }

        .stock-change {
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* Currency Converter */
        .currency-converter {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 1rem;
            align-items: end;
            margin-top: 1rem;
        }

        .currency-input {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .currency-input label {
            font-weight: 500;
            color: #495057;
        }

        .currency-input input,
        .currency-input select {
            padding: 0.8rem;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 1rem;
        }

        .convert-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .convert-btn:hover {
            background: #0056b3;
        }

        /* Add Stock Form */
        .add-stock-form {
            display: grid;
            grid-template-columns: 1fr 1fr auto;
            gap: 1rem;
            margin-top: 1rem;
        }

        .add-stock-form input {
            padding: 0.8rem;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 1rem;
        }

        .add-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .add-btn:hover {
            background: #218838;
        }

        /* Content with Sidebar Layout */
        .content-with-sidebar {
            display: grid;
            grid-template-columns: 1fr 200px;
            gap: 2rem;
            margin-top: 2rem;
        }

        .main-content {
            flex: 1;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .portfolio-summary {
                grid-template-columns: 1fr;
            }

            .currency-converter {
                grid-template-columns: 1fr;
            }

            .add-stock-form {
                grid-template-columns: 1fr;
            }

            .content-with-sidebar {
                grid-template-columns: 1fr;
            }

            .sidebar {
                order: -1;
            }
        }

        /* SVG Line Chart */
        .line-chart {
            width: 100%;
            height: 100%;
        }

        .chart-line {
            fill: none;
            stroke: #007bff;
            stroke-width: 2;
        }

        .chart-area {
            fill: rgba(0, 123, 255, 0.1);
        }

        /* Delete button */
        .delete-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background-color 0.2s;
        }

        .delete-btn:hover {
            background: #c82333;
        }

        /* Empty state */
        .empty-state {
            text-align: center;
            padding: 2rem;
            color: #6c757d;
        }

        .empty-state h3 {
            margin-bottom: 0.5rem;
            color: #495057;
        }

        /* Chart axes and labels */
        .chart-axis {
            font-size: 10px;
            fill: #6c757d;
        }

        .chart-point {
            fill: #007bff;
            stroke: white;
            stroke-width: 2;
        }

        /* Ad section */
        .ad-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3rem 0;
            margin-top: 3rem;
        }

        .ad-content {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .ad-content h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .ad-content p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .ad-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .ad-feature {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .ad-feature h3 {
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .cta-button {
            background: linear-gradient(45deg, #ff6b6b, #ffa726);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">üåç Expat Portfolio Tracker</div>
                <div class="user-info">
                    <span>Welcome, User</span>
                    <span>|</span>
                    <span id="current-time"></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Top Banner Ad -->
    <div class="container">
        <div class="ad-container">
            <div class="ad-label">Advertisement</div>
            <ins class="adsbygoogle banner-ad"
                 data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                 data-ad-slot="1234567890"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
        </div>
    </div>

    <div class="container">
        <div class="content-with-sidebar">
            <div class="main-content">
                <div class="dashboard-grid">
                    <!-- Market Status Box -->
                    <div class="dashboard-box market-status">
                        <div class="box-header">
                            <div class="box-title">Global Market Status</div>
                            <div id="last-updated">Last updated: <span id="update-time"></span></div>
                        </div>
                        <div class="markets-grid" id="markets-grid">
                            <!-- Market items will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Portfolio Summary Box -->
                    <div class="dashboard-box">
                        <div class="box-header">
                            <div class="box-title">Portfolio Summary</div>
                        </div>
                        <div class="portfolio-summary">
                            <div class="summary-item">
                                <div class="summary-value" id="total-value">$0.00</div>
                                <div class="summary-label">Total Portfolio Value</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-value positive" id="daily-change">+$0.00</div>
                                <div class="summary-label">Daily Change</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-value" id="total-stocks">0</div>
                                <div class="summary-label">Total Stocks</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-value" id="currencies">0</div>
                                <div class="summary-label">Currencies</div>
                            </div>
                        </div>
                    </div>

                    <!-- Currency Converter Box -->
                    <div class="dashboard-box">
                        <div class="box-header">
                            <div class="box-title">Currency Converter</div>
                        </div>
                        <div class="currency-converter">
                            <div class="currency-input">
                                <label>From</label>
                                <input type="number" id="from-amount" placeholder="Amount" value="1">
                                <select id="from-currency">
                                    <option value="USD">USD</option>
                                    <option value="EUR">EUR</option>
                                    <option value="GBP">GBP</option>
                                    <option value="JPY">JPY</option>
                                    <option value="SGD">SGD</option>
                                </select>
                            </div>
                            <button class="convert-btn" onclick="convertCurrency()">Convert</button>
                            <div class="currency-input">
                                <label>To</label>
                                <input type="number" id="to-amount" placeholder="Result" readonly>
                                <select id="to-currency">
                                    <option value="EUR">EUR</option>
                                    <option value="USD">USD</option>
                                    <option value="GBP">GBP</option>
                                    <option value="JPY">JPY</option>
                                    <option value="SGD">SGD</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Rectangle Ad in Content -->
                    <div class="ad-container">
                        <div class="ad-label">Advertisement</div>
                        <ins class="adsbygoogle rectangle-ad"
                             data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                             data-ad-slot="2345678901"
                             data-ad-format="rectangle"></ins>
                    </div>

                    <!-- Overall Stock Market Chart Box -->
                    <div class="dashboard-box">
                        <div class="box-header">
                            <div class="box-title">Market Overview - S&P 500</div>
                        </div>
                        <div class="chart-container">
                            <svg class="line-chart" viewBox="0 0 500 250">
                                <defs>
                                    <linearGradient id="areaGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                        <stop offset="0%" style="stop-color:#007bff;stop-opacity:0.3" />
                                        <stop offset="100%" style="stop-color:#007bff;stop-opacity:0" />
                                    </linearGradient>
                                </defs>
                                
                                <!-- Grid lines -->
                                <g class="chart-grid" stroke="#e9ecef" stroke-width="1">
                                    <line x1="50" y1="40" x2="450" y2="40" />
                                    <line x1="50" y1="90" x2="450" y2="90" />
                                    <line x1="50" y1="140" x2="450" y2="140" />
                                    <line x1="50" y1="190" x2="450" y2="190" />
                                    <line x1="100" y1="30" x2="100" y2="200" />
                                    <line x1="200" y1="30" x2="200" y2="200" />
                                    <line x1="300" y1="30" x2="300" y2="200" />
                                    <line x1="400" y1="30" x2="400" y2="200" />
                                </g>
                                
                                <!-- Y-axis labels (values) -->
                                <g class="chart-axis">
                                    <text x="45" y="45" text-anchor="end">$4,200</text>
                                    <text x="45" y="95" text-anchor="end">$4,000</text>
                                    <text x="45" y="145" text-anchor="end">$3,800</text>
                                    <text x="45" y="195" text-anchor="end">$3,600</text>
                                </g>
                                
                                <!-- X-axis labels (dates) -->
                                <g class="chart-axis">
                                    <text x="100" y="220" text-anchor="middle">Jan 2024</text>
                                    <text x="200" y="220" text-anchor="middle">Apr 2024</text>
                                    <text x="300" y="220" text-anchor="middle">Jul 2024</text>
                                    <text x="400" y="220" text-anchor="middle">Oct 2024</text>
                                </g>
                                
                                <!-- Chart area fill -->
                                <path class="chart-area" d="M50,180 L100,160 L150,140 L200,120 L250,100 L300,110 L350,90 L400,70 L450,60 L450,200 L50,200 Z" fill="url(#areaGradient)" />
                                
                                <!-- Chart line -->
                                <path class="chart-line" d="M50,180 L100,160 L150,140 L200,120 L250,100 L300,110 L350,90 L400,70 L450,60" />
                                
                                <!-- Data points -->
                                <circle class="chart-point" cx="50" cy="180" r="3" />
                                <circle class="chart-point" cx="100" cy="160" r="3" />
                                <circle class="chart-point" cx="150" cy="140" r="3" />
                                <circle class="chart-point" cx="200" cy="120" r="3" />
                                <circle class="chart-point" cx="250" cy="100" r="3" />
                                <circle class="chart-point" cx="300" cy="110" r="3" />
                                <circle class="chart-point" cx="350" cy="90" r="3" />
                                <circle class="chart-point" cx="400" cy="70" r="3" />
                                <circle class="chart-point" cx="450" cy="60" r="3" />
                            </svg>
                        </div>
                    </div>

                    <!-- Individual Stocks Box -->
                    <div class="dashboard-box">
                        <div class="box-header">
                            <div class="box-title">Individual Stocks</div>
                        </div>
                        <div class="add-stock-form">
                            <input type="text" id="stock-symbol" placeholder="Stock Symbol (e.g., AAPL)">
                            <input type="number" id="stock-shares" placeholder="Number of Shares">
                            <button class="add-btn" onclick="addStock()">Add Stock</button>
                        </div>
                        <div class="stocks-list" id="stocks-list">
                            <!-- Stock items will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sidebar with ads -->
            <div class="sidebar">
                <div class="ad-container">
                    <div class="ad-label">Advertisement</div>
                    <ins class="adsbygoogle square-ad"
                         data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                         data-ad-slot="3456789012"
                         data-ad-format="square"></ins>
                </div>

                <div class="ad-container">
                    <div class="ad-label">Advertisement</div>
                    <ins class="adsbygoogle square-ad"
                         data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                         data-ad-slot="4567890123"
                         data-ad-format="square"></ins>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Banner Ad -->
    <div class="container">
        <div class="ad-container">
            <div class="ad-label">Advertisement</div>
            <ins class="adsbygoogle banner-ad"
                 data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                 data-ad-slot="5678901234"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
        </div>
    </div>

    <!-- Advertisement Section -->
    <div class="ad-section">
        <div class="container">
            <div class="ad-content">
                <h2>Take Your Portfolio to the Next Level</h2>
                <p>Join thousands of expats who trust our platform for their international investments</p>
                
                <div class="ad-features">
                    <div class="ad-feature">
                        <h3>üí∞ Save on Forex Fees</h3>
                        <p>Get access to expat-friendly cards and banking solutions to minimize currency conversion costs</p>
                    </div>
                    <div class="ad-feature">
                        <h3>üèõÔ∏è Expert Tax Help</h3>
                        <p>Connect with tax professionals who specialize in international investing and expat tax situations</p>
                    </div>
                    <div class="ad-feature">
                        <h3>üìä Advanced Analytics</h3>
                        <p>Get detailed performance reports and insights across multiple currencies and markets</p>
                    </div>
                </div>
                
                <button class="cta-button" onclick="alert('Coming soon! Premium features will be available shortly.')">
                    Upgrade to Premium
                </button>
            </div>
        </div>
    </div>

    <script>
        // Mock data and functionality
        const markets = [
            { name: 'NYSE', timezone: 'America/New_York', openTime: '09:30', closeTime: '16:00' },
            { name: 'NASDAQ', timezone: 'America/New_York', openTime: '09:30', closeTime: '16:00' },
            { name: 'LSE', timezone: 'Europe/London', openTime: '08:00', closeTime: '16:30' },
            { name: 'TSE', timezone: 'Asia/Tokyo', openTime: '09:00', closeTime: '15:00' },
            { name: 'SGX', timezone: 'Asia/Singapore', openTime: '09:00', closeTime: '17:00' },
            { name: 'HKEX', timezone: 'Asia/Hong_Kong', openTime: '09:30', closeTime: '16:00' }
        ];

        const stocks = [];

        const exchangeRates = {
            'USD': { 'EUR': 0.85, 'GBP': 0.73, 'JPY': 110, 'SGD': 1.35 },
            'EUR': { 'USD': 1.18, 'GBP': 0.86, 'JPY': 129, 'SGD': 1.59 },
            'GBP': { 'USD': 1.37, 'EUR': 1.16, 'JPY': 150, 'SGD': 1.85 },
            'JPY': { 'USD': 0.009, 'EUR': 0.008, 'GBP': 0.007, 'SGD': 0.012 },
            'SGD': { 'USD': 0.74, 'EUR': 0.63, 'GBP': 0.54, 'JPY': 81 }
        };

        function updateTime() {
            const now = new Date();
            document.getElementById('current-time').textContent = now.toLocaleTimeString();
            document.getElementById('update-time').textContent = now.toLocaleTimeString();
        }

        function isMarketOpen(market) {
            const now = new Date();
            const dayOfWeek = now.getDay();
            
            // Weekend check
            if (dayOfWeek === 0 || dayOfWeek === 6) {
                return 'weekend';
            }
            
            // Simple time check (would need proper timezone handling in real app)
            const currentHour = now.getHours();
            const openHour = parseInt(market.openTime.split(':')[0]);
            const closeHour = parseInt(market.closeTime.split(':')[0]);
            
            if (currentHour >= openHour && currentHour < closeHour) {
                return 'open';
            }
            return 'closed';
        }

        function updateMarketStatus() {
            const marketsGrid = document.getElementById('markets-grid');
            marketsGrid.innerHTML = '';
            
            markets.forEach(market => {
                const status = isMarketOpen(market);
                const marketItem = document.createElement('div');
                marketItem.className = `market-item ${status}`;
                
                let statusText = status.charAt(0).toUpperCase() + status.slice(1);
                let statusClass = `status-${status}`;
                
                marketItem.innerHTML = `
                    <div class="market-name">${market.name}</div>
                    <div class="market-status-badge ${statusClass}">${statusText}</div>
                `;
                
                marketsGrid.appendChild(marketItem);
            });
        }

        function updatePortfolioSummary() {
            const totalValue = stocks.reduce((sum, stock) => sum + (stock.price * stock.shares), 0);
            const dailyChange = stocks.reduce((sum, stock) => sum + (stock.change * stock.shares), 0);
            
            document.getElementById('total-value').textContent = `$${totalValue.toFixed(2)}`;
            document.getElementById('daily-change').textContent = `${dailyChange >= 0 ? '+' : ''}$${dailyChange.toFixed(2)}`;
            document.getElementById('daily-change').className = `summary-value ${dailyChange >= 0 ? 'positive' : 'negative'}`;
            document.getElementById('total-stocks').textContent = stocks.length;
            document.getElementById('currencies').textContent = '5';
            }

        function updateStocksList() {
            const stocksList = document.getElementById('stocks-list');
            
            if (stocks.length === 0) {
                stocksList.innerHTML = `
                    <div class="empty-state">
                        <h3>No stocks added yet</h3>
                        <p>Add your first stock using the form above</p>
                    </div>
                `;
                return;
            }
            
            stocksList.innerHTML = '';
            
            stocks.forEach((stock, index) => {
                const stockItem = document.createElement('div');
                stockItem.className = 'stock-item';
                
                const changeClass = stock.change >= 0 ? 'positive' : 'negative';
                const changeSymbol = stock.change >= 0 ? '+' : '';
                
                stockItem.innerHTML = `
                    <div class="stock-info">
                        <div class="stock-symbol">${stock.symbol}</div>
                        <div class="stock-name">${stock.name}</div>
                    </div>
                    <div class="stock-price">
                        <div>$${stock.price.toFixed(2)}</div>
                        <div class="stock-change ${changeClass}">${changeSymbol}${stock.change.toFixed(2)}</div>
                    </div>
                    <div>
                        <div>${stock.shares} shares</div>
                        <div class="stock-change">$${(stock.price * stock.shares).toFixed(2)}</div>
                    </div>
                    <button class="delete-btn" onclick="removeStock(${index})">Delete</button>
                `;
                
                stocksList.appendChild(stockItem);
            });
        }

        function addStock() {
            const symbolInput = document.getElementById('stock-symbol');
            const sharesInput = document.getElementById('stock-shares');
            
            const symbol = symbolInput.value.trim().toUpperCase();
            const shares = parseInt(sharesInput.value);
            
            if (!symbol || !shares || shares <= 0) {
                alert('Please enter a valid stock symbol and number of shares');
                return;
            }
            
            // Check if stock already exists
            if (stocks.find(stock => stock.symbol === symbol)) {
                alert('Stock already exists in your portfolio');
                return;
            }
            
            // Mock stock data (in real app, this would come from an API)
            const mockStocks = {
                'AAPL': { name: 'Apple Inc.', price: 175.43, change: 2.15 },
                'GOOGL': { name: 'Alphabet Inc.', price: 2743.88, change: -15.22 },
                'MSFT': { name: 'Microsoft Corp.', price: 331.62, change: 1.85 },
                'AMZN': { name: 'Amazon.com Inc.', price: 3372.20, change: -8.45 },
                'TSLA': { name: 'Tesla Inc.', price: 1024.86, change: 45.23 },
                'NVDA': { name: 'NVIDIA Corp.', price: 208.78, change: 3.42 },
                'META': { name: 'Meta Platforms Inc.', price: 331.79, change: -2.18 },
                'NFLX': { name: 'Netflix Inc.', price: 398.42, change: 7.65 }
            };
            
            const stockData = mockStocks[symbol] || {
                name: `${symbol} Corp.`,
                price: Math.random() * 200 + 50,
                change: (Math.random() - 0.5) * 20
            };
            
            stocks.push({
                symbol: symbol,
                name: stockData.name,
                price: stockData.price,
                change: stockData.change,
                shares: shares
            });
            
            symbolInput.value = '';
            sharesInput.value = '';
            
            updateStocksList();
            updatePortfolioSummary();
        }

        function removeStock(index) {
            stocks.splice(index, 1);
            updateStocksList();
            updatePortfolioSummary();
        }

        function convertCurrency() {
            const fromAmount = parseFloat(document.getElementById('from-amount').value);
            const fromCurrency = document.getElementById('from-currency').value;
            const toCurrency = document.getElementById('to-currency').value;
            
            if (!fromAmount || fromAmount <= 0) {
                alert('Please enter a valid amount');
                return;
            }
            
            if (fromCurrency === toCurrency) {
                document.getElementById('to-amount').value = fromAmount.toFixed(2);
                return;
            }
            
            let rate;
            if (fromCurrency === 'USD') {
                rate = exchangeRates['USD'][toCurrency];
            } else if (toCurrency === 'USD') {
                rate = exchangeRates[fromCurrency]['USD'];
            } else {
                // Convert through USD
                const toUSD = exchangeRates[fromCurrency]['USD'];
                const fromUSD = exchangeRates['USD'][toCurrency];
                rate = toUSD * fromUSD;
            }
            
            const result = fromAmount * rate;
            document.getElementById('to-amount').value = result.toFixed(2);
        }

        // Initialize the app
        function init() {
            updateTime();
            updateMarketStatus();
            updateStocksList();
            updatePortfolioSummary();
            
            // Update time every second
            setInterval(updateTime, 1000);
            
            // Update market status every minute
            setInterval(updateMarketStatus, 60000);
            
            // Add sample stocks for demonstration
            setTimeout(() => {
                stocks.push(
                    { symbol: 'AAPL', name: 'Apple Inc.', price: 175.43, change: 2.15, shares: 10 },
                    { symbol: 'GOOGL', name: 'Alphabet Inc.', price: 2743.88, change: -15.22, shares: 2 },
                    { symbol: 'MSFT', name: 'Microsoft Corp.', price: 331.62, change: 1.85, shares: 15 }
                );
                updateStocksList();
                updatePortfolioSummary();
            }, 1000);
        }

        // Initialize Google AdSense
        function initializeAds() {
            try {
                (adsbygoogle = window.adsbygoogle || []).push({});
                (adsbygoogle = window.adsbygoogle || []).push({});
                (adsbygoogle = window.adsbygoogle || []).push({});
                (adsbygoogle = window.adsbygoogle || []).push({});
                (adsbygoogle = window.adsbygoogle || []).push({});
            } catch (e) {
                console.log('AdSense not loaded');
            }
        }

        // Start the application
        window.addEventListener('load', () => {
            init();
            initializeAds();
        });

        // Handle Enter key in stock input
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                if (e.target.id === 'stock-symbol' || e.target.id === 'stock-shares') {
                    addStock();
                }
            }
        });
    </script>
</body>
</html>
